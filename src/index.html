<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>AusCrop Crop Insurance</title>
    <link rel="stylesheet" type="text/css" href="app.css" />
   
</head>

<body>
<header id="menu">
    <a href="#" id="linkHome">Home</a>
    <a href="#" id="linkPurchaseInsurance">Purchase Insurance</a>
	<a href="#" id="linkPolicy"> View Insurance Policy</a>
</header>

<main>
    <section id="loadingBox">Loading ...</section>

    <section id="infoBox"><header>x</header><p>Info</p></section>

    <section id="errorBox"><header>x</header><p>Error</p></section>
	
	
	<p style="text-align:center;"><h1><center>AusCrop Crop Insurance</center></h1></p>
	
	
    
	
	
	<section id="viewHome">
	<p style="text-align:center;"><img src="crop.jpg" alt="Logo" width="768" height="432"></p>
	
        <h1>Crop Insurance</h1>
        Welcome to our Decentralized Crop Insurance offering. Please follow these steps to obtain crop insurance: 
        <ul>
            <li>Select a product you wish to purchase below, ensuring you fill out all required details. Premium is automatically calculated as 1% of cover required</li>
            <li>Press the <b>Submit</b> button. The Dapp will validate details and then open Metamask to request payment of the premium</li>
            <li>Once payment of your premium has been received, a new Insurance contract will be created on the blockchain that contains all the details of the contract, and will be <b>fully funded</b> to pay out if the contract terms are reached </li>
			<li>The deployed contract will start checking for weather data, if the drought temp threshold (37 degrees) is exceeded for the drought days threshold (3 days), then the contract will pay out the agreed amount</li>
			<li>If the contract duration is reached and no payout has occurred, the contract will end, and you will be required to purchase an additional Insurance Contract if you still require cover</li>
        </ul>
    </section>
	
    <section id="purchaseInsurance">
        <h1>Purchase Crop Insurance</h1>
        <p>Please fill out all details and then hit the Submit button</p>
        
		 <!-- Crop Location -->
		 <b>Crop Location</b><br/>
		<select name="Crop Location" id="cropLocation">
			<option value="Kimba">Kimba</option>
			<option value="Mildura">Mildura</option>
			<option value="Ballarat">Ballarat</option>
			<option value="Cairns">Cairns</option>
		</select><br/><br/><br/>
		
		<!-- duration - 1 day is 15 seconds for purposes of demonstration -->
		<b>Contract Duration</b><br/>
		<select name="duration" id="duration">
			<option value="3">3 days</option>
			<option value="5">5 days</option>
			<option value="10">10 days</option>
			<option value="30">30 days</option>
			<option value="90">90 days</option>
			<option value="365">365 days</option>
		</select><br/><br/><br/>
		
		<!-- totalCover - can be up to 99 ETH and must be at least 0.1 ETH -->
		<b>Total Cover Required (in ETH)</b><br/>
		<input type="number" name="totalCover" id="totalCover" min="0.1" max="99"><br/><br/><br/>
		
		<input type="button" id="calculatePremium" value="Calculate Premium" /><br/><br/>
		
		<div id="calculatedPremium" style="display:none"> <!-- change to visible when do calculation -->
		Calculated Premium: 
		</div>
		<br/>
		<div id="transactionHash" style="display:none"> <!-- change to visible when do calculation -->
		Transaction Hash:  
		</div>
		<br/><br/>
        <input type="button" id="submitInsuranceApplication" value="Submit Insurance Application" />
    </section>
	
	
	 <section id="viewPolicy">
        <h1>Policy Details</h1>
        <p>Current Metamask wallet Policy Details:</p>
		
		<div id="policyDetails" style="display:none"> <!-- change to visible when do calculation -->

		</div>
		
		

		
		
    </section>
	

</main>

<footer>AusCrop Australian Crop Insurance - built by <a href = 'http://www.genesisblockchain.com.au'>Genesis Blockchain Services</a></footer>
</body>
 <script src="lib/jquery-3.1.1.min.js"></script>
 <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.34/dist/web3.min.js"></script>
 <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
 <script src="request-promise.js"></script>
<script src="rp.js"></script>
 <script src="app.js" type="module"></script>
</html>
